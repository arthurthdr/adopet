<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Adopet</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <a href="index.html"><img src="img/logo.png" alt="Adopet Logo"></a>
            </div>
            <div class="nav-actions-container">
                <nav>
                    <ul>
                        <li><a href="index.html">Início</a></li>
                        <li><a href="adocao.html">Adoção</a></li>
                        <li><a href="feedback.html">Contato</a></li>
                        <li><a href="parcerias.html">Parcerias</a></li>
                        <li id="admin-link-li" style="display: none;"><a href="admin.html">Admin</a></li>
                    </ul>
                </nav>
                <div class="user-actions">
                    <a href="casinha.html" id="casinha-icon" title="Minha Casinha"><i class="fas fa-home"></i><span id="casinha-contador" class="contador">0</span></a>
                    <a href="perfil.html" id="user-profile-icon" style="display: none;" title="Meu Perfil"><i class="fas fa-user-circle"></i></a>
                    <a href="login.html" id="login-link-button" class="header-login-btn">Login</a>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div id="admin-access-denied" class="container" style="color: red; text-align: center; padding: 40px; font-size: 1.2em; display: none;">
            Acesso negado. Você precisa estar logado como administrador para acessar esta página.
        </div>

        <div id="admin-content" class="admin-dashboard" style="display: none;">
            <div class="admin-header">
                <h1>Painel de Controle</h1>
                <button id="logout-button">Sair <i class="fas fa-sign-out-alt"></i></button>
            </div>

            <div class="admin-tabs">
                <button class="tab-link active" data-tab="manage-animals">Gerenciar Animais</button>
                <button class="tab-link" data-tab="adoption-requests">Pedidos de Adoção</button>
                <button class="tab-link" data-tab="contact-messages">Mensagens</button>
            </div>

            <div id="manage-animals-content" class="tab-content active">
                <div class="grid-layout">
                    <div class="form-admin-container">
                        <h3 id="form-title">Adicionar Animal</h3>
                        <form id="animal-form" class="form-admin">
                            <input type="hidden" id="animal-id">
                            <div class="form-group"><label for="nome">Nome:</label><input type="text" id="nome" required></div>
                            <div class="form-group"><label for="especie">Espécie:</label><select id="especie" required><option value="">Selecione...</option><option value="Cachorro">Cachorro</option><option value="Gato">Gato</option></select></div>
                            <div class="form-group"><label for="sexo">Sexo:</label><select id="sexo"><option value="">Selecione...</option><option value="Macho">Macho</option><option value="Fêmea">Fêmea</option></select></div>
                            <div class="form-group"><label for="porte">Porte:</label><select id="porte"><option value="">Selecione...</option><option value="Pequeno">Pequeno</option><option value="Médio">Médio</option><option value="Grande">Grande</option></select></div>
                            <div class="form-group"><label for="idade">Idade (anos):</label><input type="number" id="idade" min="0" step="0.1"></div>
                            <div class="form-group"><label for="estado">Estado:</label><input type="text" id="estado"></div>
                            <div class="form-group"><label for="cidade">Cidade:</label><input type="text" id="cidade"></div>
                            <div class="form-group"><label for="img-upload">Foto do Animal:</label><input type="file" id="img-upload" accept="image/png, image/jpeg, image/webp"><small>Selecione uma imagem (PNG, JPG, WEBP).</small></div>
                            <div class="form-group"><label for="descricao">Descrição:</label><textarea id="descricao" rows="4"></textarea></div>
                            <button type="submit">Salvar</button>
                            <button type="button" id="cancel-edit-button" style="display: none; background-color: #777; margin-top: 10px;">Cancelar Edição</button>
                        </form>
                    </div>
                    <div class="animais-lista-container">
                        <h3>Animais Cadastrados</h3>
                        <div class="animais-lista">
                            <table>
                                <thead><tr><th>ID</th><th>Nome</th><th>Espécie</th><th>Idade</th><th>Ações</th></tr></thead>
                                <tbody id="animais-table-body"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div id="adoption-requests-content" class="tab-content">
                <h3>Pedidos de Adoção Recebidos</h3>
                <div id="pedidos-container"></div>
            </div>

            <div id="contact-messages-content" class="tab-content">
                <h3>Mensagens de Contato Recebidas</h3>
                <div id="mensagens-container"></div>
            </div>
        </div>

        <div id="confirm-modal" class="modal-overlay">
            <div class="modal-content">
                <h3 id="modal-title">Confirmar Ação</h3>
                <p id="modal-text">Você tem certeza?</p>
                <div class="modal-actions">
                    <button id="modal-confirm-btn" class="modal-btn-confirm">Confirmar</button>
                    <button id="modal-cancel-btn" class="modal-btn-cancel">Cancelar</button>
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="container">
            <div class="footer-sections">
                <div class="footer-section"><h3>Sobre o Adopet Cuida</h3><ul><li><a href="quemsomos.html">Quem Somos</a></li></ul></div>
                <div class="footer-section"><h3>Dúvidas</h3><ul><li><a href="feedback.html">Atendimento</a></li></ul></div>
                <div class="footer-section"><h3>Redes Sociais</h3><ul class="social-links"><li><a href="feedback.html"><i class="fab fa-facebook"></i></a></li><li><a href="feedback.html"><i class="fab fa-instagram"></i></a></li><li><a href="feedback.html"><i class="fab fa-youtube"></i></a></li><li><a href="feedback.html"><i class="fab fa-twitter"></i></a></li></ul></div>
            </div>
            <p>© 2024 Adopet - Projeto Integrador. </p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/auth-ui.js"></script>
    <script src="js/casinha-global.js"></script>
    <script src="js/admin-script.js"></script>
</body>
</html>